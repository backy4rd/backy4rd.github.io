{"version":3,"sources":["global.js","utils/filter.js","components/Sidebar/TagTitle/index.js","reducers/schoolYear.js","reducers/index.js","store.js","utils/unfocus.js","components/Sidebar/index.js","components/Sidebar/TemplateCard/index.js","components/Sidebar/MemberCard/index.js","api/index.js","components/Sidebar/SubjectCard/SubjectTag/index.js","components/Sidebar/SubjectCard/SubjectSearchList/index.js","utils/viToEn.js","components/Sidebar/SubjectCard/index.js","components/Sidebar/SchoolYearSelector/index.js","actions/schoolYear.js","components/Result/Schedule/index.js","components/Result/Navigator/index.js","components/Result/index.js","utils/createSchedules.js","App.js","index.js"],"names":["global","subjects","takenGroups","template","Array","fill","map","minMember","console","log","isGroupRegistrable","group","buoihoc","some","buoi","tiet","thu","groupMemberInRange","filteredSubjects","subjectId","filter","conlai","kihieu","groupInTemplate","hoaAnGroup","every","test","phong","untakenGroup","TagTitle","props","title","tooltip","isDropdown","onDropdownIconClick","containDropdown","React","useState","open","setOpen","className","onClick","style","cursor","arrow","placement","onMouseEnter","onMouseLeave","generateInitialState","semester","now","Date","currentMonth","getMonth","currentYear","getFullYear","year","toString","combineReducers","schoolYear","state","action","type","payload","createStore","reducers","window","__REDUX_DEVTOOLS_EXTENSION__","unfocus","tmp","document","createElement","body","appendChild","focus","removeChild","Sidebar","onCreateButtonClick","isCalculating","setIsCalculating","setImmediate","Row","row","x","handleCellClick","isActive","y","TemplateCard","setIsDropdown","setTemplate","clone","arr","slice","handleThuClick","isContainActive","forEach","useEffect","clear","handleTietClick","member","setMember","value","onChange","e","target","onKeyPress","key","min","max","getHost","getDate","groupEndpoint","subjectEndpoint","getGroups","a","query","fetch","response","json","ok","Error","error","data","getSubjectName","getSubjectNames","SubjectTag","handleDeleteSubject","groups","setGroups","selectedGroup","setSelectedGroup","dsmh","subjectName","setSubjectName","isFounded","setIsFounded","useSelector","isUnmounted","useRef","api","fetchSubjectName","current","sort","fetchData","info","SubjectDropdown","selectedIndex","onOptionClick","onMouseOverOption","subjectid","i","onMouseOver","onMouseDown","viToEn","str","toLowerCase","replace","search","convertToSearchable","isSubjectExist","toUpperCase","Object","keys","SubjectCard","input","setInput","setSelectedIndex","querySubjects","setQuerySubjects","localStorage","getItem","split","getSavedSubjects","setSubjects","addMissingSubjects","setItem","join","_querySubjects","includes","onSubmit","preventDefault","onKeyDown","length","placeholder","index","SemesterSelection","store","dispatch","changeYear","changeSemester","colorMap","cell","rowSpan","backgroundColor","groupId","room","Schedule","schedule","scheduleMap","siso","createScheduleMap","Navigator","maxIndex","onPageChange","page","setPage","onBlur","width","Math","log10","colorPalette","Result","ref","schedules","currentIndex","setCurrentIndex","ceil","subjectIds","colors","splice","createColorMap","isDesktop","innerWidth","startIndex","message","fontWeight","textAlign","margin","scroll","offsetTop","forwardRef","findAllSchedule","result","templateClone","childSchedule","push","createSchedules","shuffledSubjects","shuffle","reduce","acc","cur","time","allSchedules","timeEnd","App","setSchedules","resultRef","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e35eb145.chunk.js","sourcesContent":["const global = {\n  subjects: {},\n  takenGroups: {},\n  template: Array(9)\n    .fill(0)\n    .map(() => Array(6).fill(false)),\n  minMember: 1,\n};\n\nconsole.log(global);\n\nexport default global;\n","export function isGroupRegistrable(group, template) {\n  return !group.buoihoc.some((buoi) => {\n    return buoi.tiet.some((tiet) => template[tiet - 1][buoi.thu - 2]);\n  });\n}\n\nexport function groupMemberInRange(subjects, minMember = 1, takenGroups = {}) {\n  const filteredSubjects = {};\n  for (const subjectId in subjects) {\n    filteredSubjects[subjectId] = subjects[subjectId].filter(\n      (group) =>\n        group.conlai >= minMember || takenGroups[subjectId] === group.kihieu,\n    );\n  }\n\n  return filteredSubjects;\n}\n\nexport function groupInTemplate(subjects, template, takenGroups = {}) {\n  if (!template) return subjects;\n  const filteredSubjects = {};\n\n  for (const subjectId in subjects) {\n    filteredSubjects[subjectId] = subjects[subjectId].filter((group) => {\n      return (\n        isGroupRegistrable(group, template) ||\n        takenGroups[subjectId] === group.kihieu\n      );\n    });\n  }\n\n  return filteredSubjects;\n}\n\nexport function hoaAnGroup(subjects) {\n  const filteredSubjects = {};\n  for (const subjectId in subjects) {\n    filteredSubjects[subjectId] = subjects[subjectId].filter((group) =>\n      group.buoihoc.every((buoi) => !/HA/.test(buoi.phong)),\n    );\n  }\n\n  return filteredSubjects;\n}\n\nexport function untakenGroup(subjects, takenGroups) {\n  const filteredSubjects = { ...subjects };\n  // for (const subjectId in subjects) {\n  //   filteredSubjects[subjectId] = subjects[subjectId].filter((group) => {\n  //     return takenGroups[subjectId].includes(group.kihieu);\n  //   });\n  // }\n\n  for (const subjectId in takenGroups) {\n    if (takenGroups[subjectId]) {\n      filteredSubjects[subjectId] = subjects[subjectId].filter((group) => {\n        return group.kihieu === takenGroups[subjectId];\n      });\n    }\n  }\n\n  return filteredSubjects;\n}\n","import React from 'react';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\n\nimport './TagTitle.css';\n\nfunction TagTitle(props) {\n  const {\n    title,\n    tooltip,\n    isDropdown,\n    onDropdownIconClick,\n    containDropdown = true,\n  } = props;\n\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <div className=\"tag-title\">\n      <h3\n        className=\"title\"\n        onClick={onDropdownIconClick}\n        style={{ cursor: containDropdown ? 'pointer' : 'auto' }}\n      >\n        {title}\n      </h3>\n\n      {containDropdown ? (\n        <ArrowForwardIosIcon\n          className={`dropdown-icon ${isDropdown ? 'dropdown' : 'pullup'}`}\n          onClick={onDropdownIconClick}\n        />\n      ) : null}\n      <Tooltip title={tooltip} arrow placement=\"top\" open={open}>\n        <HelpOutlineIcon\n          className=\"help-icon\"\n          onMouseEnter={() => setOpen(true)}\n          onMouseLeave={() => setOpen(false)}\n        />\n      </Tooltip>\n    </div>\n  );\n}\n\nexport default TagTitle;\n","function generateInitialState() {\n  const now = new Date();\n\n  const currentMonth = now.getMonth() + 1;\n  const currentYear = now.getFullYear();\n\n  let semester, year;\n\n  if (currentMonth <= 4 || currentMonth >= 11) {\n    semester = 2;\n  } else if (currentMonth <= 6) {\n    semester = 3;\n  } else {\n    semester = 1;\n  }\n\n  if (currentMonth >= 7) year = currentYear + 1;\n  else year = currentYear;\n\n  return {\n    year: year.toString(),\n    semester: semester.toString(),\n  };\n}\n\nexport default function schoolYear(state = generateInitialState(), action) {\n  switch (action.type) {\n    case 'CHANGE_YEAR':\n      return {\n        ...state,\n        year: action.payload,\n      };\n\n    case 'CHANGE_SEMESTER':\n      return {\n        ...state,\n        semester: action.payload,\n      };\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport schoolYear from './schoolYear'\n\nexport default combineReducers({\n  schoolYear,\n})","import { createStore } from 'redux';\n\nimport reducers from './reducers';\n\nexport default createStore(\n  reducers,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n);\n","export default function unfocus() {\n  var tmp = document.createElement('input');\n  document.body.appendChild(tmp);\n  tmp.focus();\n  document.body.removeChild(tmp);\n}\n","import React from 'react';\n\nimport SubjectCard from './SubjectCard';\nimport SchoolYearSelector from './SchoolYearSelector';\nimport TemplateCard from './TemplateCard';\nimport MemberCard from './MemberCard';\n// import AreaCard from './AreaCard';\n\nimport './Sidebar.css';\n\nfunction Sidebar({ onCreateButtonClick }) {\n  const [isCalculating, setIsCalculating] = React.useState(false);\n\n  function handleCreateButtonClick() {\n    setIsCalculating(true);\n    // make sure sidebar rerendered before run cpu intensive task\n    setImmediate(() => {\n      onCreateButtonClick();\n      setIsCalculating(false);\n    });\n  }\n  return (\n    <div className=\"sidebar\">\n      <SchoolYearSelector />\n      <SubjectCard />\n      <TemplateCard />\n      <MemberCard />\n      {/* <AreaCard /> */}\n      <button\n        className=\"sidebar__generate-btn\"\n        onClick={handleCreateButtonClick}\n      >\n        Tạo thời khóa biểu{isCalculating ? '...' : ''}\n      </button>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","import React, { useState, useEffect } from 'react';\n\nimport TagTitle from '../TagTitle';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport global from '../../../global';\n\nimport './TemplateCard.css';\n\nconst tooltip = `Những tiết học được đánh dấu sẽ không được sắp`;\n\nfunction Row({ row, x, handleCellClick }) {\n  return row.map((isActive, y) => (\n    <td key={x + '' + y} onClick={() => handleCellClick(x, y)}>\n      <ClearIcon className={`tick-icon ${isActive ? 'active' : ''}`} />\n    </td>\n  ));\n}\n\nfunction TemplateCard() {\n  // const template = useSelector((state) => state.template);\n  const [isDropdown, setIsDropdown] = useState(false);\n  const [template, setTemplate] = useState(\n    Array(9)\n      .fill(0)\n      .map(() => Array(6).fill(false)),\n  );\n\n  useEffect(() => {\n    global.template = template;\n  }, [template]);\n\n  function handleCellClick(x, y) {\n    const clone = template.map((arr) => arr.slice(0));\n    clone[x][y] = !clone[x][y];\n\n    setTemplate(clone);\n  }\n\n  function handleTietClick(x) {\n    const clone = template.map((arr) => arr.slice(0));\n\n    if (clone[x].some((isActive) => !isActive)) {\n      clone[x] = clone[x].fill(true);\n    } else {\n      clone[x] = clone[x].fill(false);\n    }\n\n    setTemplate(clone);\n  }\n\n  function handleThuClick(y) {\n    const clone = template.map((arr) => arr.slice(0));\n    const isContainActive = clone.some((row) => !row[y]);\n\n    clone.forEach((row) => {\n      row[y] = isContainActive;\n    });\n\n    setTemplate(clone);\n  }\n\n  return (\n    <div\n      className={`sidebar__card template-card ${isDropdown ? '' : 'pulled'}`}\n    >\n      <TagTitle\n        title=\"Lọc tiết học\"\n        tooltip={tooltip}\n        isDropdown={isDropdown}\n        onDropdownIconClick={() => setIsDropdown(!isDropdown)}\n      />\n      <table style={{ clear: 'both' }}>\n        <tbody>\n          <tr>\n            <th>Tiết</th>\n            <th onClick={() => handleThuClick(0)}>Thứ 2</th>\n            <th onClick={() => handleThuClick(1)}>Thứ 3</th>\n            <th onClick={() => handleThuClick(2)}>Thứ 4</th>\n            <th onClick={() => handleThuClick(3)}>Thứ 5</th>\n            <th onClick={() => handleThuClick(4)}>Thứ 6</th>\n            <th onClick={() => handleThuClick(5)}>Thứ 7</th>\n          </tr>\n          {template.map((row, x) => (\n            <tr key={x}>\n              <th onClick={() => handleTietClick(x)}>{x + 1}</th>\n              <Row row={row} x={x} handleCellClick={handleCellClick} />\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default TemplateCard;\n","import React, { useState, useEffect } from 'react';\n\nimport TagTitle from '../TagTitle';\n\nimport unfocus from '../../../utils/unfocus';\nimport global from '../../../global';\n\nimport './MemberCard.css';\n\nconst tooltip = `Những nhóm có sỉ số ít hơn được chỉ định sẽ không được sắp`;\n\nfunction TemplateCard() {\n  const [isDropdown, setIsDropdown] = useState(false);\n  const [member, setMember] = useState(0);\n\n  useEffect(() => {\n    global.minMember = +member;\n  }, [member]);\n\n  return (\n    <div className={`sidebar__card member-card ${isDropdown ? '' : 'pulled'}`}>\n      <TagTitle\n        title=\"Lọc sĩ số\"\n        tooltip={tooltip}\n        isDropdown={isDropdown}\n        onDropdownIconClick={() => setIsDropdown(!isDropdown)}\n      />\n\n      <div className=\"range\">\n        <input\n          type=\"number\"\n          value={member}\n          onChange={(e) => setMember(e.target.value)}\n          onKeyPress={(e) => (e.key === 'Enter' ? unfocus() : null)}\n        />\n        <input\n          value={member}\n          onChange={(e) => setMember(e.target.value)}\n          type=\"range\"\n          min=\"1\"\n          max=\"50\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default TemplateCard;\n","function getHost() {\n  const isEndOfDyno = new Date().getDate() < 15;\n\n  if (isEndOfDyno) {\n    return 'https://htql-2.herokuapp.com';\n  } else {\n    return 'https://htql-1.herokuapp.com';\n  }\n}\n\nconst groupEndpoint = getHost() + '/groups';\nconst subjectEndpoint = getHost() + '/subjects';\n\nexport async function getGroups(subjectId, year, semester) {\n  const query = `?year=${year}&semester=${semester}`;\n  const response = await fetch(`${groupEndpoint}/${subjectId}${query}`);\n  const json = await response.json();\n\n  if (!response.ok) {\n    throw new Error(json.error);\n  }\n\n  return json.data;\n}\n\nexport async function getSubjectName(subjectId) {\n  const response = await fetch(subjectEndpoint + '/' + subjectId);\n  const json = await response.json();\n\n  if (!response.ok) {\n    throw new Error(json.error);\n  }\n\n  return json.data;\n}\n\nexport async function getSubjectNames() {\n  const response = await fetch(subjectEndpoint);\n  const json = await response.json();\n\n  if (!response.ok) {\n    throw new Error(json.error);\n  }\n\n  return json.data;\n}\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport * as filter from '../../../../utils/filter';\nimport * as api from '../../../../api';\nimport global from '../../../../global';\nimport dsmh from '../../../../dsmh.json';\n\nimport './SubjectTag.css';\n\nfunction SubjectTag({ subjectId, handleDeleteSubject }) {\n  const [groups, setGroups] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState('');\n  const [subjectName, setSubjectName] = useState(dsmh[subjectId] || '...');\n  const [isFounded, setIsFounded] = useState(true);\n\n  const schoolYear = useSelector((state) => state.schoolYear);\n\n  const isUnmounted = useRef(false);\n\n  useEffect(() => {\n    async function fetchSubjectName() {\n      try {\n        const response = await api.getSubjectName(subjectId);\n\n        dsmh[subjectId] = response;\n        setSubjectName(response);\n\n        // handle error\n      } catch (err) {\n        setSubjectName('Không xác định');\n      }\n    }\n\n    if (subjectName === '...') fetchSubjectName();\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    isUnmounted.current = false;\n\n    return () => {\n      isUnmounted.current = true;\n      delete global.subjects[subjectId];\n      delete global.takenGroups[subjectId];\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const response = await api.getGroups(\n          subjectId,\n          schoolYear.year,\n          schoolYear.semester,\n        );\n\n        if (isUnmounted.current) return;\n        const data = filter.hoaAnGroup(response)[subjectId];\n\n        global.subjects[subjectId] = data;\n\n        setGroups(['Tất cả', ...data.map((group) => group.kihieu).sort()]);\n        setSelectedGroup('Tất cả');\n        setIsFounded(true);\n      } catch (err) {\n        setGroups(['Not Found']);\n        setIsFounded(false);\n      }\n    }\n\n    setGroups(['Loading']);\n    fetchData();\n    // eslint-disable-next-line\n  }, [schoolYear]);\n\n  useEffect(() => {\n    if (\n      selectedGroup === 'Loading' ||\n      selectedGroup === 'Not Found' ||\n      selectedGroup === ''\n    )\n      return;\n\n    if (selectedGroup === 'Tất cả') {\n      delete global.takenGroups[subjectId];\n    } else {\n      global.takenGroups[subjectId] = selectedGroup;\n    }\n    // eslint-disable-next-line\n  }, [selectedGroup]);\n\n  const info = `${subjectId} - ${subjectName}`;\n\n  return (\n    <div className=\"subject-tag\">\n      <div className=\"subject-tag__info\">\n        {isFounded ? <span>{info}</span> : <strike>{info}</strike>}\n      </div>\n      <ClearIcon\n        className=\"subject-tag__clear-icon\"\n        onClick={() => handleDeleteSubject(subjectId)}\n      />\n      <select\n        className=\"subject-tag__groups\"\n        value={selectedGroup}\n        onChange={(e) => setSelectedGroup(e.target.value)}\n      >\n        {groups.map((group) => (\n          <option key={group}>{group}</option>\n        ))}\n      </select>\n    </div>\n  );\n}\n\nexport default SubjectTag;\n","import React from 'react';\n\nimport dsmh from '../../../../dsmh.json';\n\nimport './SubjectSearchList.css';\n\nfunction SubjectDropdown(props) {\n  const { subjects, selectedIndex, onOptionClick, onMouseOverOption } = props;\n\n  return (\n    <div className=\"subject-search-list\">\n      {subjects.map((subjectid, i) => (\n        <div\n          key={subjectid}\n          className={`subject-search-list__option ${\n            i === selectedIndex ? 'active' : ''\n          }`}\n          onMouseOver={() => onMouseOverOption(i)}\n          onMouseDown={() => onOptionClick(i)}\n        >\n          {`${subjectid} - ${dsmh[subjectid]}`}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default SubjectDropdown;\n","export default function viToEn(str) {\n    str = str.toLowerCase();\n//     We can also use this instead of from line 11 to line 17\n//     str = str.replace(/\\u00E0|\\u00E1|\\u1EA1|\\u1EA3|\\u00E3|\\u00E2|\\u1EA7|\\u1EA5|\\u1EAD|\\u1EA9|\\u1EAB|\\u0103|\\u1EB1|\\u1EAF|\\u1EB7|\\u1EB3|\\u1EB5/g, \"a\");\n//     str = str.replace(/\\u00E8|\\u00E9|\\u1EB9|\\u1EBB|\\u1EBD|\\u00EA|\\u1EC1|\\u1EBF|\\u1EC7|\\u1EC3|\\u1EC5/g, \"e\");\n//     str = str.replace(/\\u00EC|\\u00ED|\\u1ECB|\\u1EC9|\\u0129/g, \"i\");\n//     str = str.replace(/\\u00F2|\\u00F3|\\u1ECD|\\u1ECF|\\u00F5|\\u00F4|\\u1ED3|\\u1ED1|\\u1ED9|\\u1ED5|\\u1ED7|\\u01A1|\\u1EDD|\\u1EDB|\\u1EE3|\\u1EDF|\\u1EE1/g, \"o\");\n//     str = str.replace(/\\u00F9|\\u00FA|\\u1EE5|\\u1EE7|\\u0169|\\u01B0|\\u1EEB|\\u1EE9|\\u1EF1|\\u1EED|\\u1EEF/g, \"u\");\n//     str = str.replace(/\\u1EF3|\\u00FD|\\u1EF5|\\u1EF7|\\u1EF9/g, \"y\");\n//     str = str.replace(/\\u0111/g, \"d\");\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\n    str = str.replace(/đ/g, \"d\");\n    // Some system encode vietnamese combining accent as individual utf-8 characters\n    str = str.replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, \"\"); // Huyền sắc hỏi ngã nặng \n    str = str.replace(/\\u02C6|\\u0306|\\u031B/g, \"\"); // Â, Ê, Ă, Ơ, Ư\n    return str;\n}","import React, { useState, useEffect } from 'react';\n\nimport SubjectTag from './SubjectTag';\nimport TagTitle from '../TagTitle';\nimport SubjectSearchList from './SubjectSearchList';\n\nimport * as api from '../../../api';\nimport viToEn from '../../../utils/viToEn';\n\nimport dsmh from '../../../dsmh.json';\n\nimport './SubjectCard.css';\n\nconst search = {};\nconst tooltip = `Chọn lại \"Tất cả\" để chỉ định nhóm cụ thể, hệ thống sẽ sắp thời khóa biểu xoay quanh nhóm đó`;\n\nfunction convertToSearchable(str) {\n  return viToEn(str)\n    .replace(/[^a-zA-Z0-9 ]+/g, '')\n    .replace(/\\s+/, ' ');\n}\n\nfunction isSubjectExist(target, subjects) {\n  return subjects.some((subjectId) => subjectId === target.toUpperCase());\n}\n\nfunction getSavedSubjects() {\n  const subjects = window.localStorage.getItem('subjects');\n  if (!subjects) return [];\n\n  return subjects.split(',');\n}\n\nObject.keys(dsmh).forEach((subjectId) => {\n  search[subjectId] = convertToSearchable(dsmh[subjectId]);\n});\n\nfunction SubjectCard() {\n  const [input, setInput] = useState('');\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  const [querySubjects, setQuerySubjects] = useState([]);\n  const [subjects, setSubjects] = useState(getSavedSubjects());\n\n  // add new subjects to dsmh\n  useEffect(() => {\n    async function addMissingSubjects() {\n      const response = await api.getSubjectNames();\n\n      Object.keys(response).forEach((subjectId) => {\n        dsmh[subjectId] = response[subjectId];\n        search[subjectId] = convertToSearchable(dsmh[subjectId]);\n      });\n    }\n\n    addMissingSubjects();\n  }, []);\n\n  // store subject ids\n  useEffect(() => {\n    window.localStorage.setItem('subjects', subjects.join(','));\n  }, [subjects]);\n\n  // handle input change (show search list)\n  useEffect(() => {\n    if (input === '') {\n      setQuerySubjects([]);\n      return;\n    }\n\n    setSelectedIndex(-1);\n\n    const _querySubjects = Object.keys(dsmh)\n      .filter((subjectId) => {\n        // update search object if dsmh has new subject\n        if (!search[subjectId]) {\n          search[subjectId] = convertToSearchable(dsmh[subjectId]);\n        }\n\n        return (\n          subjectId.includes(input.toUpperCase()) ||\n          search[subjectId].includes(viToEn(input))\n        );\n      })\n      .slice(0, 30);\n\n    setQuerySubjects(_querySubjects);\n    //\n  }, [input]);\n\n  function handleAddSubject(e) {\n    e.preventDefault();\n    if (input === '') return;\n    if (isSubjectExist(input, subjects)) return;\n\n    setSubjects([...subjects, input.toUpperCase()]);\n    setInput('');\n  }\n\n  function handleDeleteSubject(target) {\n    setSubjects(subjects.filter((subjectId) => subjectId !== target));\n  }\n\n  function onOptionClick(index) {\n    if (isSubjectExist(querySubjects[index], subjects)) {\n      return;\n    }\n\n    setInput('');\n    setSubjects([...subjects, querySubjects[index]]);\n  }\n\n  function onMouseOverOption(index) {\n    setSelectedIndex(index);\n  }\n\n  function handleInputKeydown(e) {\n    if (\n      (e.key === 'ArrowDown' || e.key === 'Tab') &&\n      selectedIndex < querySubjects.length - 1\n    ) {\n      setSelectedIndex(selectedIndex + 1);\n      e.preventDefault();\n    }\n    if (e.key === 'ArrowUp' && selectedIndex > -1) {\n      setSelectedIndex(selectedIndex - 1);\n      e.preventDefault();\n    }\n    if (e.key === 'Enter' && selectedIndex !== -1) {\n      if (isSubjectExist(querySubjects[selectedIndex], subjects)) return;\n\n      setInput('');\n      setSubjects([...subjects, querySubjects[selectedIndex]]);\n      e.preventDefault();\n    }\n  }\n\n  return (\n    <div className=\"sidebar__card subject-card\">\n      <TagTitle\n        title=\"Chọn học phần\"\n        containDropdown={false}\n        tooltip={tooltip}\n      />\n\n      <form onSubmit={handleAddSubject} className=\"subject-card__input\">\n        <input\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyDown={handleInputKeydown}\n          placeholder=\"Mã học phần\"\n          type=\"text\"\n        ></input>\n        <input type=\"submit\" value=\"Thêm\"></input>\n\n        <SubjectSearchList\n          subjects={querySubjects}\n          selectedIndex={selectedIndex}\n          onOptionClick={onOptionClick}\n          onMouseOverOption={onMouseOverOption}\n        />\n      </form>\n\n      <div>\n        {subjects.map((subjectId, i) => (\n          <SubjectTag\n            key={subjectId}\n            subjectId={subjectId.toUpperCase()}\n            handleDeleteSubject={handleDeleteSubject}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default SubjectCard;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport store from '../../../store';\nimport { changeYear, changeSemester } from '../../../actions/schoolYear';\n\nimport './SchoolYearSelector.css';\n\nfunction SemesterSelection() {\n  const year = useSelector((state) => state.schoolYear.year);\n  const semester = useSelector((state) => state.schoolYear.semester);\n\n  return (\n    <div className=\"semester-selection\">\n      <span>Năm học: </span>\n      <select\n        value={year}\n        onChange={(e) => store.dispatch(changeYear(e.target.value))}\n      >\n        <option value=\"2019\">2018-2019</option>\n        <option value=\"2020\">2019-2020</option>\n        <option value=\"2021\">2020-2021</option>\n        <option value=\"2022\">2021-2022</option>\n        <option value=\"2023\">2022-2023</option>\n        <option value=\"2024\">2023-2024</option>\n        <option value=\"2025\">2024-2025</option>\n        <option value=\"2026\">2025-2026</option>\n      </select>\n\n      <span>Học kỳ: </span>\n      <select\n        value={semester}\n        onChange={(e) => store.dispatch(changeSemester(e.target.value))}\n      >\n        <option value=\"1\">1</option>\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n      </select>\n    </div>\n  );\n}\n\nexport default SemesterSelection;\n","export function changeYear(year) {\n  return {\n    type: 'CHANGE_YEAR',\n    payload: year,\n  };\n}\n\nexport function changeSemester(semester) {\n  return {\n    type: 'CHANGE_SEMESTER',\n    payload: semester,\n  };\n}\n","import React from 'react';\n\nimport dsmh from '../../../dsmh.json';\n\nimport './Schedule.css';\n\nfunction createScheduleMap(schedule) {\n  const map = Array(9)\n    .fill(0)\n    .map(() => Array(6).fill({ type: 'empty' }));\n\n  for (const subjectId in schedule) {\n    schedule[subjectId].buoihoc.forEach((buoi) => {\n      map[buoi.tiet[0] - 1][buoi.thu - 2] = {\n        type: 'data',\n        rowSpan: buoi.tiet.length,\n        subjectId: subjectId,\n        groupId: schedule[subjectId].kihieu,\n        room: buoi.phong,\n        member: `${schedule[subjectId].conlai}/${schedule[subjectId].siso}`,\n      };\n\n      buoi.tiet.slice(1).forEach((tiet) => {\n        map[tiet - 1][buoi.thu - 2] = { type: 'null' };\n      });\n    });\n  }\n\n  return map;\n}\n\nfunction Row({ row, x, colorMap }) {\n  return row.map((cell, y) => {\n    if (cell.type === 'null') return undefined;\n    if (cell.type === 'empty') return <td key={`${x}${y}`}></td>;\n\n    return (\n      <td\n        key={`${x}${y}`}\n        rowSpan={cell.rowSpan}\n        style={{ backgroundColor: colorMap[cell.subjectId] }}\n        className=\"schedule__cell-data\"\n      >\n        <p className=\"subject-id\">\n          <strong>{`${cell.subjectId} ${cell.groupId}`}</strong>\n        </p>\n        <p className=\"subject-name\">{dsmh[cell.subjectId]}</p>\n        <p>{cell.room}</p>\n        <p>{cell.member}</p>\n      </td>\n    );\n  });\n}\n\nfunction Schedule({ schedule, colorMap, index }) {\n  const scheduleMap = createScheduleMap(schedule);\n\n  return (\n    <div className=\"schedule\">\n      <table>\n        <thead>\n          <tr>\n            <th>Tiết</th>\n            <th>Thứ 2</th>\n            <th>Thứ 3</th>\n            <th>Thứ 4</th>\n            <th>Thứ 5</th>\n            <th>Thứ 6</th>\n            <th>Thứ 7</th>\n          </tr>\n        </thead>\n        <tbody>\n          {scheduleMap.map((row, x) => (\n            <tr key={x}>\n              <th>{x + 1}</th>\n              <Row row={row} x={x} colorMap={colorMap} />\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default Schedule;\n","import React, { useEffect, useState } from 'react';\n\nimport unfocus from '../../../utils/unfocus';\n\nimport './Navigator.css';\n\nfunction Navigator({ className, index, maxIndex, onPageChange }) {\n  const [page, setPage] = useState(index);\n\n  useEffect(() => setPage(index), [index]);\n\n  function handlePagePressEnter(e) {\n    if (e.key !== 'Enter') return;\n\n    if (+e.target.value < 0 || +e.target.value > maxIndex) {\n      setPage(index);\n    } else {\n      onPageChange(+e.target.value);\n    }\n    unfocus();\n  }\n\n  function handlePageUnfocus(e) {\n    if (+e.target.value < 0 || +e.target.value > maxIndex) {\n      setPage(index);\n    } else {\n      onPageChange(+e.target.value);\n    }\n  }\n\n  return (\n    <div className={`navigator ${className ? className : ''}`}>\n      <button\n        className={index === 0 ? 'disable' : ''}\n        onClick={() => onPageChange(0)}\n      >\n        đầu\n      </button>\n      <button\n        className={index === 0 ? 'disable' : ''}\n        onClick={() => onPageChange(index - 1 < 0 ? 0 : index - 1)}\n      >\n        trước\n      </button>\n      <span>\n        <input\n          className=\"index\"\n          type=\"number\"\n          value={page + 1}\n          onChange={(e) => setPage(e.target.value)}\n          onKeyPress={handlePagePressEnter}\n          onBlur={handlePageUnfocus}\n          style={{ width: ~~(Math.log10(maxIndex) + 1) * 8 }}\n        />\n        /{maxIndex + 1}\n      </span>\n      <button\n        className={index === maxIndex ? 'disable' : ''}\n        onClick={() =>\n          onPageChange(index + 1 > maxIndex ? maxIndex : index + 1)\n        }\n      >\n        sau\n      </button>\n      <button\n        className={index === maxIndex ? 'disable' : ''}\n        onClick={() => onPageChange(maxIndex)}\n      >\n        cuối\n      </button>\n    </div>\n  );\n}\n\nexport default Navigator;\n","import React, { useState, useEffect } from 'react';\n\nimport Schedule from './Schedule';\nimport Navigator from './Navigator';\n\nimport global from '../../global';\n\nimport './Result.css';\n\nconst colorPalette = [\n  '#ACDDDE',\n  '#CBE4F9',\n  '#CDF5F6',\n  '#D7D8BF',\n  '#E3E3F2',\n  '#EFF9DA',\n  '#F7D8BA',\n  '#F9D8D6',\n  '#F9EBDF',\n  '#FFD3FD',\n  '#FFFDDB',\n];\n\nfunction createColorMap(subjectIds) {\n  const colors = [...colorPalette];\n  const colorMap = {};\n\n  subjectIds.forEach((subjectId) => {\n    colorMap[subjectId] = colors.splice(0, 1)?.[0];\n  });\n\n  return colorMap;\n}\n\nconst limit = 10;\n\nfunction Result({ schedules }, ref) {\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  useEffect(() => setCurrentIndex(0), [schedules]);\n\n  if (!ref) throw new Error('must have ref property');\n  if (schedules === null) return <div className=\"result\"></div>;\n\n  const maxIndex = Math.ceil(schedules.length / limit) - 1;\n  const colorMap = createColorMap(Object.keys(global.subjects));\n  const isDesktop = window.innerWidth > 700;\n  const startIndex = currentIndex * limit;\n\n  function onPageChange2(index) {\n    setCurrentIndex(index);\n\n    if (isDesktop) {\n      ref.current.scroll(0, 0);\n    } else {\n      window.scroll(0, ref.current.offsetTop);\n    }\n  }\n\n  const message =\n    schedules.length !== 0\n      ? `${schedules.length} thời khóa biểu được tìm thấy`\n      : 'Không tìm thấy thời khóa biểu phù hợp';\n\n  return (\n    <div className=\"result\" ref={ref}>\n      {/* {(isDesktop && currentIndex === 0) || !isDesktop ? ( */}\n      <h2>{message}</h2>\n      {/* ) : null} */}\n\n      {/* {schedules.length > limit ? ( */}\n      {/*   (isDesktop && currentIndex !== 0) || !isDesktop ? ( */}\n      {/*     <Navigator */}\n      {/*       index={currentIndex} */}\n      {/*       maxIndex={maxIndex} */}\n      {/*       onPageChange={onPageChange1} */}\n      {/*       className={'result__top-navigator'} */}\n      {/*     /> */}\n      {/*   ) : null */}\n      {/* ) : null} */}\n\n      <div className=\"schedules\">\n        {schedules.slice(startIndex, startIndex + limit).map((schedule, i) => (\n          <>\n            <p style={{ fontWeight: 'bold', textAlign: 'center', margin: 0 }}>\n              {startIndex + i + 1}\n            </p>\n            <Schedule\n              key={i}\n              schedule={schedule}\n              colorMap={colorMap}\n              index={startIndex + i + 1}\n            />\n          </>\n        ))}\n      </div>\n\n      {schedules.length > limit ? (\n        <Navigator\n          index={currentIndex}\n          maxIndex={maxIndex}\n          onPageChange={onPageChange2}\n          className={'result__bottom-navigator'}\n        />\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n}\n\nexport default React.forwardRef(Result);\n","import shuffle from 'shuffle-array';\nimport * as filter from './filter';\n\nfunction findAllSchedule(subjects, template) {\n  const [subjectId] = Object.keys(subjects);\n  if (!subjectId) return [{}];\n\n  const result = [];\n\n  for (const group of subjects[subjectId]) {\n    if (!filter.isGroupRegistrable(group, template)) continue;\n\n    const templateClone = template.map((row) => row.slice(0));\n\n    // Fill buoihoc to template clone\n    group.buoihoc.forEach((buoi) => {\n      buoi.tiet.forEach(\n        (tiet) => (templateClone[tiet - 1][buoi.thu - 2] = true),\n      );\n    });\n\n    // Filter conflict group and remove current subjectId in subjects clone\n    const filteredSubjects = filter.groupInTemplate(subjects, templateClone);\n    delete filteredSubjects[subjectId];\n\n    // Recur to get child schedules\n    const childSchedules = findAllSchedule(filteredSubjects, templateClone);\n\n    // Loop through all child schedule and append current subject to it\n    childSchedules.forEach((childSchedule) => {\n      result.push({ [subjectId]: group, ...childSchedule });\n    });\n    // for (const childSchedule of childSchedules) {\n    //   result.push({ [key]: subject, ...childSchedule });\n    //   if (result.length >= 10e3) return result;\n    // }\n\n    // strict numbers of result\n    if (result.length > 1e5) return result;\n  }\n\n  return result;\n}\n\nexport default function createSchedules(subjects) {\n  if (Object.keys(subjects).length === 0) return [];\n\n  // for (const subjectId in subjects) {\n  //   subjects[subjectId].sort((a, b) => {\n  //     return Math.abs(a.siso - 25 - a.conlai) < Math.abs(b.siso - 25 - b.conlai)\n  //       ? -1\n  //       : 1;\n  //   });\n  // }\n\n  const shuffledSubjects = shuffle(Object.keys(subjects)).reduce((acc, cur) => {\n    acc[cur] = shuffle(subjects[cur]);\n    return acc;\n  }, {});\n\n  console.time('calculate');\n  const allSchedules = findAllSchedule(\n    shuffledSubjects,\n    Array(9)\n      .fill(0)\n      .map(() => Array(6).fill(false)),\n  );\n  console.timeEnd('calculate');\n\n  // return allSchedules;\n  return shuffle(allSchedules);\n}\n","import React from 'react';\n\nimport Sidebar from './components/Sidebar';\nimport Result from './components/Result';\n\nimport global from './global';\nimport createSchedules from './utils/createSchedules';\nimport * as filter from './utils/filter';\n\nimport './App.css';\n\nfunction App() {\n  const [schedules, setSchedules] = React.useState(null);\n  const resultRef = React.useRef(null);\n\n  function onCreateButtonClick() {\n    let { subjects, takenGroups, template, minMember } = global;\n\n    subjects = filter.untakenGroup(subjects, takenGroups);\n    subjects = filter.groupMemberInRange(subjects, minMember, takenGroups);\n    subjects = filter.groupInTemplate(subjects, template, takenGroups);\n\n    const schedules = createSchedules(subjects);\n\n    setSchedules(schedules);\n\n    if (window.innerWidth > 700) {\n      resultRef.current.scroll(0, 0);\n    }\n  }\n\n  return (\n    <div className=\"app\">\n      <Sidebar onCreateButtonClick={onCreateButtonClick} />\n      <Result schedules={schedules} ref={resultRef} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\n\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}